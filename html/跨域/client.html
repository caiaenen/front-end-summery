<html>
    <script>
        //ajax
    var ajax = new XMLHttpRequest()
    ajax.open('get','http://127.0.0.1:8000?name=clientsend')
    ajax.send()
    ajax.onreadystatechange = function(){
        if(ajax.readyState==4&&ajax.status==200) {
            console.log(ajax.responseText)
        }
    }

    //jsonp
    // const jsonp = (url, params, cbName) => {
    //     return new Promise((resolve, reject) => {
    //         const script = document.createElement('script')
    //         window[cbName] = (data) => {
    //             resolve(data)
    //             document.body.removeChild(script)
    //         }
    //         params = { ...params, callback: cbName }
    //         const arr = Object.keys(params).map(key => `${key}=${params[key]}`)
    //         script.src = `${url}?${arr.join('&')}`
    //         console.log(document.head)
    //         document.head.appendChild(script)
    //     })
    // }

    // jsonp('http://127.0.0.1:9000', { name: '林三心', age: 23 }, 'callback').then(data => {
    //     console.log(data) // 林三心今年23岁啦！！！
    // })

    //websocket
    // function myWebsocket(url, params) {
    //     return new Promise((resolve, reject) => {
    //         const socket = new WebSocket(url)
    //         socket.onopen = () => {
    //             socket.send(JSON.stringify(params))
    //         }
    //         socket.onmessage = (e) => {
    //             resolve(e.data)
    //         }
    //     })
    // }
    // myWebsocket('ws://127.0.0.1:9001', { name: '林三心', age: 23 }).then(data => {
    //     console.log(data) // 林三心今年23岁啦！！！
    // })

    </script>
</html>